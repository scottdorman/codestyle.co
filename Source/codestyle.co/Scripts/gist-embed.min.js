(function(n){function t(n){var i=[],t,f,r,u;if(typeof n=="number")i.push(n);else for(f=n.split(","),r=0;r<f.length;r++)if(t=f[r].split("-"),t.length===2)for(u=parseInt(t[0],10);u<=t[1];u++)i.push(u);else t.length===1&&i.push(parseInt(t[0],10));return i}n.fn.gist=function(){return this.each(function(){var i=n(this),f,r,e,o,s,h,c,u={};if(i.css("display","block"),f=i.data("gist-id")||"",e=i.data("gist-file"),h=i.data("gist-hide-footer")===!0,c=i.data("gist-hide-line-numbers")===!0,o=i.data("gist-line"),s=i.data("gist-highlight-line"),e&&(u.file=e),!f)return!1;r="https://gist.github.com/"+f+".json";i.html("Loading gist "+r+(u.file?", file: "+u.file:"")+"...");n.ajax({url:r,data:u,dataType:"jsonp",timeout:1e4,success:function(u){var e,l,a,v,f;u&&u.div?(u.stylesheet&&u.stylesheet.indexOf("http")!==0&&(u.stylesheet.indexOf("/")!==0&&(u.stylesheet="/"+u.stylesheet),u.stylesheet="https://gist.github.com"+u.stylesheet),u.stylesheet&&n('link[href="'+u.stylesheet+'"]').length===0&&(e=document.createElement("link"),l=document.getElementsByTagName("head")[0],e.type="text/css",e.rel="stylesheet",e.href=u.stylesheet,l.insertBefore(e,l.firstChild)),f=n(u.div),f.removeAttr("id"),i.html("").append(f),s&&(v=t(s),f.find("td.line-data").css({width:"100%"}),f.find(".line").each(function(t){n.inArray(t+1,v)!==-1&&n(this).css({"background-color":"rgb(255, 255, 204)"})})),o&&(a=t(o),f.find(".line").each(function(t){n.inArray(t+1,a)===-1&&n(this).remove()}),f.find(".line-number").each(function(t){n.inArray(t+1,a)===-1&&n(this).remove()})),h&&f.find(".gist-meta").remove(),c&&f.find(".line-numbers").remove()):i.html("Failed loading gist "+r)},error:function(n,t){i.html("Failed loading gist "+r+": "+t)}})})};n(function(){n("[data-gist-id]").gist()})})(jQuery);
/*
//# sourceMappingURL=gist-embed.min.js.map
*/